spv.forLoop.frag

Linked fragment stage:


// Module Version 10000
// Generated by (magic number): 80001
// Id's are bound by 132

                              Capability Shader
               1:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint Fragment 4  "main" 11 37 105
                              ExecutionMode 4 OriginLowerLeft
                              Source GLSL 130
                              Name 4  "main"
                              Name 9  "color"
                              Name 11  "BaseColor"
                              Name 15  "i"
                              Name 24  "Count"
                              Name 29  "bigColor"
                              Name 37  "gl_FragColor"
                              Name 40  "sum"
                              Name 42  "i"
                              Name 54  "v4"
                              Name 64  "i"
                              Name 72  "tv4"
                              Name 89  "r"
                              Name 95  "i"
                              Name 105  "f"
                              Name 118  "i"
               2:             TypeVoid
               3:             TypeFunction 2
               6:             TypeFloat 32
               7:             TypeVector 6(float) 4
               8:             TypePointer Function 7(fvec4)
              10:             TypePointer Input 7(fvec4)
   11(BaseColor):     10(ptr) Variable Input
              13:             TypeInt 32 1
              14:             TypePointer Function 13(int)
              16:     13(int) Constant 0
              23:             TypePointer UniformConstant 13(int)
       24(Count):     23(ptr) Variable UniformConstant
              26:             TypeBool
              28:             TypePointer UniformConstant 7(fvec4)
    29(bigColor):     28(ptr) Variable UniformConstant
              34:     13(int) Constant 1
              36:             TypePointer Output 7(fvec4)
37(gl_FragColor):     36(ptr) Variable Output
              39:             TypePointer Function 6(float)
              41:    6(float) Constant 0
              49:     13(int) Constant 4
              51:             TypeInt 32 0
              52:             TypeVector 51(int) 4
              53:             TypePointer UniformConstant 52(ivec4)
          54(v4):     53(ptr) Variable UniformConstant
              56:             TypePointer UniformConstant 51(int)
              77:     51(int) Constant 4
              90:             TypeVector 6(float) 3
             104:             TypePointer Input 6(float)
          105(f):    104(ptr) Variable Input
             107:     51(int) Constant 3
             125:     13(int) Constant 16
         4(main):           2 Function None 3
               5:             Label
        9(color):      8(ptr) Variable Function
           15(i):     14(ptr) Variable Function
         40(sum):     39(ptr) Variable Function
           42(i):     14(ptr) Variable Function
           64(i):     14(ptr) Variable Function
         72(tv4):      8(ptr) Variable Function
           89(r):      8(ptr) Variable Function
           95(i):     14(ptr) Variable Function
          118(i):     14(ptr) Variable Function
              12:    7(fvec4) Load 11(BaseColor)
                              Store 9(color) 12
                              Store 15(i) 16
                              Branch 17
              17:             Label
                              LoopMerge 19 20 None
                              Branch 21
              21:             Label
              22:     13(int) Load 15(i)
              25:     13(int) Load 24(Count)
              27:    26(bool) SLessThan 22 25
                              BranchConditional 27 18 19
              18:               Label
              30:    7(fvec4)   Load 29(bigColor)
              31:    7(fvec4)   Load 9(color)
              32:    7(fvec4)   FAdd 31 30
                                Store 9(color) 32
                                Branch 20
              20:               Label
              33:     13(int)   Load 15(i)
              35:     13(int)   IAdd 33 34
                                Store 15(i) 35
                                Branch 17
              19:             Label
              38:    7(fvec4) Load 9(color)
                              Store 37(gl_FragColor) 38
                              Store 40(sum) 41
                              Store 42(i) 16
                              Branch 43
              43:             Label
                              LoopMerge 45 46 None
                              Branch 47
              47:             Label
              48:     13(int) Load 42(i)
              50:    26(bool) SLessThan 48 49
                              BranchConditional 50 44 45
              44:               Label
              55:     13(int)   Load 42(i)
              57:     56(ptr)   AccessChain 54(v4) 55
              58:     51(int)   Load 57
              59:    6(float)   ConvertUToF 58
              60:    6(float)   Load 40(sum)
              61:    6(float)   FAdd 60 59
                                Store 40(sum) 61
                                Branch 46
              46:               Label
              62:     13(int)   Load 42(i)
              63:     13(int)   IAdd 62 34
                                Store 42(i) 63
                                Branch 43
              45:             Label
                              Store 64(i) 16
                              Branch 65
              65:             Label
                              LoopMerge 67 68 None
                              Branch 69
              69:             Label
              70:     13(int) Load 64(i)
              71:    26(bool) SLessThan 70 49
                              BranchConditional 71 66 67
              66:               Label
              73:     13(int)   Load 64(i)
              74:     13(int)   Load 64(i)
              75:     56(ptr)   AccessChain 54(v4) 74
              76:     51(int)   Load 75
              78:     51(int)   IMul 76 77
              79:    6(float)   ConvertUToF 78
              80:     39(ptr)   AccessChain 72(tv4) 73
                                Store 80 79
                                Branch 68
              68:               Label
              81:     13(int)   Load 64(i)
              82:     13(int)   IAdd 81 34
                                Store 64(i) 82
                                Branch 65
              67:             Label
              83:    6(float) Load 40(sum)
              84:    7(fvec4) CompositeConstruct 83 83 83 83
              85:    7(fvec4) Load 72(tv4)
              86:    7(fvec4) FAdd 84 85
              87:    7(fvec4) Load 37(gl_FragColor)
              88:    7(fvec4) FAdd 87 86
                              Store 37(gl_FragColor) 88
              91:    7(fvec4) Load 11(BaseColor)
              92:   90(fvec3) VectorShuffle 91 91 0 1 2
              93:    7(fvec4) Load 89(r)
              94:    7(fvec4) VectorShuffle 93 92 4 5 6 3
                              Store 89(r) 94
                              Store 95(i) 16
                              Branch 96
              96:             Label
                              LoopMerge 98 99 None
                              Branch 100
             100:             Label
             101:     13(int) Load 95(i)
             102:     13(int) Load 24(Count)
             103:    26(bool) SLessThan 101 102
                              BranchConditional 103 97 98
              97:               Label
             106:    6(float)   Load 105(f)
             108:     39(ptr)   AccessChain 89(r) 107
                                Store 108 106
                                Branch 99
              99:               Label
             109:     13(int)   Load 95(i)
             110:     13(int)   IAdd 109 34
                                Store 95(i) 110
                                Branch 96
              98:             Label
             111:    7(fvec4) Load 89(r)
             112:   90(fvec3) VectorShuffle 111 111 0 1 2
             113:    7(fvec4) Load 37(gl_FragColor)
             114:   90(fvec3) VectorShuffle 113 113 0 1 2
             115:   90(fvec3) FAdd 114 112
             116:    7(fvec4) Load 37(gl_FragColor)
             117:    7(fvec4) VectorShuffle 116 115 4 5 6 3
                              Store 37(gl_FragColor) 117
                              Store 118(i) 16
                              Branch 119
             119:             Label
                              LoopMerge 121 122 None
                              Branch 123
             123:             Label
             124:     13(int) Load 118(i)
             126:    26(bool) SLessThan 124 125
                              BranchConditional 126 120 121
             120:               Label
             127:    6(float)   Load 105(f)
             128:    7(fvec4)   Load 37(gl_FragColor)
             129:    7(fvec4)   VectorTimesScalar 128 127
                                Store 37(gl_FragColor) 129
                                Branch 122
             122:               Label
             130:     13(int)   Load 118(i)
             131:     13(int)   IAdd 130 49
                                Store 118(i) 131
                                Branch 119
             121:             Label
                              Return
                              FunctionEnd
